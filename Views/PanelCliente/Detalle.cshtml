@model Proyecto_DSWI_GP3.Models.DetalleEventoViewModel

@{
    ViewData["Title"] = "Detalle del Evento";
    Layout = "~/Views/Shared/_LayoutCliente.cshtml";
}

<div class="container py-4" style="background-color: #1c1c1c; border-radius: 10px; padding: 30px;">
    <h2 class="text-white mb-3" style="font-size: 28px; font-weight: bold;">@Model.Eventos.NombreEvento</h2>
    <p class="text-white" style="font-size: 16px;">@Model.Eventos.Descripcion</p>
    <p class="text-white" style="font-size: 16px;"><strong>Fecha:</strong> @Model.Eventos.Fecha.ToString("dd/MM/yyyy")</p>

    <!-- ✅ Agrega las notificaciones aquí -->
    @if (TempData["CompraExitosa"] != null)
    {
        <div class="alert alert-success">
            @TempData["CompraExitosa"]
        </div>
    }

    @if (TempData["CompraError"] != null)
    {
        <div class="alert alert-danger">
            @TempData["CompraError"]
        </div>
    }
    <!-- ✅ Fin de las notificaciones -->

    <h4 class="text-white mt-4" style="font-size: 20px; margin-top: 30px;">Zonas disponibles</h4>

    <table class="table mt-3" style="color: white; background-color: #2b2b2b; border-radius: 8px; overflow: hidden;">
        <thead style="background-color: #3a3a3a;">
            <tr>
                <th style="padding: 12px;">Zona</th>
                <th style="padding: 12px;">Precio</th>
                <th style="padding: 12px;">Capacidad</th>
                <th style="padding: 12px;">Acción</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var zonas in Model.Zonas ?? new List<Zonas>())
            {
                <tr>
                    <td style="padding: 12px;">@zonas.NombreZona</td>
                    <td style="padding: 12px;">S/ @zonas.Precio.ToString("F2")</td>
                    <td style="padding: 12px;">@zonas.Capacidad</td>
                    <td style="padding: 12px;">
                        <form asp-action="Comprar" asp-controller="PanelCliente" method="post">
                            <input type="hidden" name="idEvento" value="@Model.Eventos.IdEvento" />
                            <button type="submit" class="btn btn-success btn-sm" onclick="return confirmarCompra();">Comprar</button>
                        </form>
                    </td>

                </tr>
            }
        </tbody>
    </table>
</div>

<script>
    function confirmarCompra() {
        return confirm("¿Estás seguro de que deseas comprar esta entrada?");
    }
</script>


